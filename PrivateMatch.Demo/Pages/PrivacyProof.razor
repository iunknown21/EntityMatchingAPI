@page "/privacy-proof"

<PageTitle>Privacy & Cost Proof - PrivateMatch</PageTitle>

<div class="container">
    <h1 class="title">üõ°Ô∏è Privacy & Cost Comparison</h1>
    <p class="subtitle">Mathematical proof that PrivateMatch is safer and cheaper</p>

    <div class="comparison-grid">
        <div class="comparison-column traditional">
            <h2>‚ùå Traditional Job Boards</h2>
            <div class="feature-list">
                <div class="feature bad">
                    <strong>Storage:</strong> Full resume text
                    <p class="detail">Your entire resume stored in plaintext</p>
                </div>
                <div class="feature bad">
                    <strong>Data Breach Risk:</strong> HIGH
                    <p class="detail">Attackers get your personal information</p>
                </div>
                <div class="feature bad">
                    <strong>GDPR Compliance:</strong> Complex
                    <p class="detail">Must handle deletion requests, right to access, etc.</p>
                </div>
                <div class="feature bad">
                    <strong>Storage Cost:</strong> $2,623/month
                    <p class="detail">For 1,000 resumes (avg 2.5KB each)</p>
                </div>
            </div>
        </div>

        <div class="comparison-column privatematch">
            <h2>‚úÖ PrivateMatch</h2>
            <div class="feature-list">
                <div class="feature good">
                    <strong>Storage:</strong> Vector only (1536 floats)
                    <p class="detail">6KB per profile, no personal info</p>
                </div>
                <div class="feature good">
                    <strong>Data Breach Risk:</strong> ZERO
                    <p class="detail">Attackers get meaningless numbers</p>
                </div>
                <div class="feature good">
                    <strong>GDPR Compliance:</strong> Minimal
                    <p class="detail">No PII = minimal requirements</p>
                </div>
                <div class="feature good">
                    <strong>Storage Cost:</strong> $208/month
                    <p class="detail">87% smaller storage footprint</p>
                </div>
            </div>
        </div>
    </div>

    <div class="cost-calculator-section">
        <h2>üí∞ Cost Savings Calculator</h2>
        <p>See how much you save with PrivateMatch</p>

        <div class="calculator">
            <label>
                Number of profiles per month:
                <input type="range" min="100" max="10000" step="100" @bind="profileCount" @bind:event="oninput" />
                <strong>@profileCount.ToString("N0")</strong>
            </label>

            <div class="calc-results">
                <div class="calc-row">
                    <span>Traditional Job Board Cost:</span>
                    <span class="cost-value bad">$@TraditionalCost.ToString("N0")/month</span>
                </div>
                <div class="calc-row">
                    <span>PrivateMatch Cost:</span>
                    <span class="cost-value good">$@PrivateMatchCost.ToString("N0")/month</span>
                </div>
                <div class="calc-row savings">
                    <span>Your Savings:</span>
                    <span class="cost-value">$@MonthlySavings.ToString("N0")/month</span>
                </div>
                <div class="calc-row annual">
                    <span><strong>Annual Savings:</strong></span>
                    <span class="cost-value"><strong>$@AnnualSavings.ToString("N0")/year</strong></span>
                </div>
            </div>
        </div>
    </div>

    <div class="breach-simulation-section">
        <h2>üîì Data Breach Simulation</h2>
        <p>What happens if the database is compromised?</p>

        <button class="btn btn-danger" @onclick="SimulateBreach">
            Simulate Data Breach
        </button>

        @if (breachSimulated)
        {
            <div class="breach-results">
                <div class="breach-result traditional-breach">
                    <h3>‚ùå Traditional Job Board (Breached)</h3>
                    <div class="stolen-data">
                        <p><strong>Attackers Retrieved:</strong></p>
                        <pre class="breach-data">
{
  "name": "John Doe",
  "email": "john.doe@example.com",
  "phone": "+1-555-0123",
  "address": "123 Main St, San Francisco, CA",
  "resumeText": "Senior Software Engineer with 10 years...",
  "currentEmployer": "TechCorp Inc.",
  "salary": "$180,000",
  "skills": ["Python", "AWS", "Machine Learning"],
  ...FULL PERSONAL INFORMATION EXPOSED
}
                        </pre>
                        <p class="breach-warning">
                            ‚ö†Ô∏è <strong>CRITICAL:</strong> All personal data stolen and can be used for identity theft, phishing, or sold on dark web.
                        </p>
                    </div>
                </div>

                <div class="breach-result privatematch-breach">
                    <h3>‚úÖ PrivateMatch (Breached)</h3>
                    <div class="stolen-data">
                        <p><strong>Attackers Retrieved:</strong></p>
                        <pre class="breach-data">
{
  "profileId": "a7b3c5d9-1234-5678-9abc-def123456789",
  "embedding": [
    0.123, -0.456, 0.789, -0.234, 0.567, -0.890, 0.345,
    -0.678, 0.901, -0.123, 0.456, -0.789, 0.234, -0.567,
    ...1522 more meaningless numbers...
  ],
  "status": "Generated"
}
                        </pre>
                        <p class="breach-safety">
                            ‚úÖ <strong>SAFE:</strong> Attackers only get numbers. Cannot reconstruct resume text or identify the person. No personal information exposed.
                        </p>
                    </div>
                </div>
            </div>
        }
    </div>

    <div class="technical-proof-section">
        <h2>üî¨ Technical Proof: Irreversibility</h2>
        <p>Why you can't reconstruct text from vectors</p>

        <div class="proof-box">
            <h3>The Mathematics:</h3>
            <ol>
                <li>
                    <strong>Many-to-One Mapping:</strong> Infinite texts can map to similar vectors
                    <p class="detail">Multiple resumes can produce nearly identical embeddings</p>
                </li>
                <li>
                    <strong>Dimensionality Reduction:</strong> Text has millions of possible combinations
                    <p class="detail">Compressed into just 1536 dimensions - information is lost</p>
                </li>
                <li>
                    <strong>No Reverse Function:</strong> OpenAI embedding is one-way
                    <p class="detail">Like a hash - you can't reverse it to get the original</p>
                </li>
                <li>
                    <strong>Semantic Similarity Only:</strong> Vectors only capture meaning
                    <p class="detail">Not exact words, not personal details - just semantic similarity</p>
                </li>
            </ol>

            <div class="math-example">
                <p><strong>Example:</strong></p>
                <p>These three completely different resumes:</p>
                <ul>
                    <li>"10 years Python, AWS expert, built ML systems"</li>
                    <li>"Decade of experience in Python development, AWS specialist, machine learning infrastructure"</li>
                    <li>"Senior engineer: Python/AWS, extensive ML platform experience"</li>
                </ul>
                <p>...produce similar vectors (high cosine similarity ~0.95)</p>
                <p><strong>An attacker with the vector cannot determine which resume it came from!</strong></p>
            </div>
        </div>
    </div>

    <div class="gdpr-section">
        <h2>‚öñÔ∏è GDPR Compliance Benefits</h2>
        <div class="gdpr-comparison">
            <div class="gdpr-column">
                <h3>Traditional Platform Requirements:</h3>
                <ul class="gdpr-list bad-list">
                    <li>Right to access (provide all stored data)</li>
                    <li>Right to deletion (complex data removal)</li>
                    <li>Data portability (export personal data)</li>
                    <li>Consent management</li>
                    <li>Data processing records</li>
                    <li>Data protection officer</li>
                    <li>Privacy impact assessments</li>
                    <li>Breach notification (72 hours)</li>
                </ul>
                <p class="cost-note">Compliance cost: <strong>$50,000-200,000/year</strong></p>
            </div>

            <div class="gdpr-column">
                <h3>PrivateMatch Requirements:</h3>
                <ul class="gdpr-list good-list">
                    <li>‚úÖ Minimal data storage = minimal requirements</li>
                    <li>‚úÖ No PII = no sensitive data protection needed</li>
                    <li>‚úÖ Vector deletion is simple</li>
                    <li>‚úÖ No personal data to export</li>
                    <li>‚úÖ Reduced breach notification burden</li>
                </ul>
                <p class="cost-note">Compliance cost: <strong>$5,000-20,000/year</strong></p>
            </div>
        </div>
    </div>
</div>

@code {
    private int profileCount = 1000;
    private bool breachSimulated = false;

    private int TraditionalCost => (int)(profileCount * 2.5 * 0.023 * 12); // $0.023/GB/month Cosmos DB
    private int PrivateMatchCost => (int)(profileCount * 0.006 * 0.023 * 12); // 6KB per profile
    private int MonthlySavings => (TraditionalCost - PrivateMatchCost) / 12;
    private int AnnualSavings => TraditionalCost - PrivateMatchCost;

    private void SimulateBreach()
    {
        breachSimulated = true;
    }
}
